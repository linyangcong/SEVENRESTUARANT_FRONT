(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myDetail/myDetail"],{"287c":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o("eab1"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u={data:function(){return{userInformation:{def_address:{}},config:n.default,selectedRole:"",address:"",phone:""}},methods:{goAboutus:function(){e.navigateTo({url:"about_us/about_us"})},goManageShop:function(){e.navigateTo({url:"../index/operation_page/operation_page"})},goOrderDetail:function(){e.navigateTo({url:"orderDetail/orderDetail"})},changeRole:function(){var t=this;e.request({url:n.default.server+"/getRole",data:{password:this.$store.state.userInformation.password,loginname:this.$store.state.userInformation.loginname},method:"POST",success:function(o){if(200==o.statusCode){var r={textlist:[],inlist:[]};o.data.result.map((function(e){r.inlist.push(e.role),"01"==e.role&&r.textlist.push("普通用户"),"02"==e.role&&r.textlist.push("商家"),"03"==e.role&&r.textlist.push("骑手")})),r.textlist.push("注册新角色"),r.inlist.push("04"),e.showActionSheet({itemList:r.textlist,itemColor:"#007AFF",success:function(s){s.tapIndex==r.textlist.length-1?e.showActionSheet({itemColor:"#007AFF",itemList:["添加用户角色","添加商家角色","添加骑手角色"],success:function(o){var r={},s="";0==o.tapIndex&&(s="01"),1==o.tapIndex&&(s="02"),2==o.tapIndex&&(s="03"),console.log(o.tapIndex,o),r={roleId:s,username:t.userInformation.username,loginname:t.userInformation.loginname,password:t.userInformation.password,wxflag:t.userInformation.wxflag},console.log("------11111111----"),console.log(r),e.request({url:n.default.server+"/register",method:"POST",data:r,success:function(t){console.log("-----222222222------"),console.log(t),200==t.statusCode?e.showToast({title:"注册成功！",icon:"none"}):500==t.statusCode&&e.showToast({title:"账号角色已被注册",icon:"none"})},fail:function(e){}})}}):(console.log("===4444444444========"),console.log(o),console.log(o.data.result[s.tapIndex].def_address),void 0==o.data.result[s.tapIndex].def_address?t.$store.dispatch("setUser",a({},o.data.result[s.tapIndex],{def_address:{urlImg:"/sevenRestuarant/user/user.png"}})):t.$store.dispatch("setUser",o.data.result[s.tapIndex]),t.selectedRole=t.$store.state.userInformation.role)}})}else e.showToast({icon:"none",title:"网络异常"})}})},changeUser:function(){e.navigateTo({url:"../index/selectAddress/selectAddress"})},goTip:function(){e.showToast({title:"敬请期待...",icon:"none"})}},filters:{getRole:function(e){return"01"==e?"普通用户":"02"==e?"商家":"03"==e?"骑手":void 0}},watch:{"$store.state.userInformation":function(t,o){this.userInformation=t,-1!=this.$store.state.userInformation.Id&&void 0!=this.$store.state.userInformation.Id||e.navigateTo({url:"../myDetail/login/login"})}},onShow:function(){-1==this.$store.state.userInformation.Id||void 0==this.$store.state.userInformation.Id?e.navigateTo({url:"../myDetail/login/login"}):(this.selectedRole=this.$store.state.userInformation.role,this.userInformation=this.$store.state.userInformation)}};t.default=u}).call(this,o("543d")["default"])},5420:function(e,t,o){"use strict";o.r(t);var n=o("287c"),r=o.n(n);for(var s in n)"default"!==s&&function(e){o.d(t,e,(function(){return n[e]}))}(s);t["default"]=r.a},6070:function(e,t,o){"use strict";var n,r=function(){var e=this,t=e.$createElement,o=(e._self._c,e._f("getRole")(e.userInformation.role));e.$mp.data=Object.assign({},{$root:{f0:o}})},s=[];o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return n}))},d096:function(e,t,o){"use strict";o.r(t);var n=o("6070"),r=o("5420");for(var s in r)"default"!==s&&function(e){o.d(t,e,(function(){return r[e]}))}(s);o("ffe1");var a,i=o("f0c5"),u=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,"739b9a2f",null,!1,n["a"],a);t["default"]=u.exports},e294:function(e,t,o){"use strict";(function(e){o("3a1f");n(o("66fd"));var t=n(o("d096"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},e8c3:function(e,t,o){},ffe1:function(e,t,o){"use strict";var n=o("e8c3"),r=o.n(n);r.a}},[["e294","common/runtime","common/vendor"]]]);