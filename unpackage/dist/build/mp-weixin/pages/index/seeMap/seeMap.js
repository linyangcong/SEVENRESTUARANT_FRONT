(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/seeMap/seeMap"],{"08bc":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s("eab1"));function i(e){return e&&e.__esModule?e:{default:e}}var o={data:function(){return{weixin:"",clicked:!1,share:{title:"分享到商家",path:"/pages/index/index",imageUrl:"",desc:"dfdsf",content:"ewgreghrehehe"},type_index:"",order_index:"",ordersum:0,old_ordersums:0,business:{},shopping:[{orderId:"",detail:{}}],userInformation:{def_address:{}},substatus:!0,config:n.default,orderImg:"../../../static/imgs/swiper/hygz_01.jpg",mapScale:12,includePoints:[],mapObj:{latitude:39.909,longitude:116.39742},markers:[]}},methods:{seeWxAccount:function(){this.weixin=this.business.weixin},addtoPanel:function(t,s){console.log(t);var n="";"weixin"==s?n="微信号复制成功":"goodsId"==s&&(n="商品号复制成功"),e.setClipboardData({data:t,success:function(t){e.showToast({title:n,icon:"none"})}})},godoorder:function(){console.log("再来一单"),e.navigateTo({url:"../select_main/select_main?index="+this.order_index+"&type_index="+this.type_index})},dopay:function(){var t=this;if(void 0!=this.userInformation.Id){var s={shopping:this.shopping,user:this.userInformation,business:this.business};e.request({url:n.default.server+"/postOrder",data:s,method:"POST",success:function(e){console.log(e.data),200==e.statusCode&&(t.clicked=!0,console.log("分享并下单成功"),console.log(t.shopping[0].goodsId))}})}else e.showToast({title:"请选择收货人",icon:"none"})},goselectAddress:function(){e.navigateTo({url:"../selectAddress/selectAddress"})},callPhone:function(t){void 0==t?e.showToast({title:"暂无该联系方式",icon:"none"}):e.makePhoneCall({phoneNumber:t,success:function(e){},fail:function(e){}})},changScale:function(){this.mapScale<16?this.mapScale++:e.showToast({title:"已经是最大了"})}},filters:{getSize:function(e){return"s"==e?"小份":"m"==e?"中份":"l"==e?"大份":void 0},getAddress:function(e){return void 0==e?"未填写":e},getprices:function(e){return e.toFixed(2)}},mounted:function(){var t=this;e.getLocation({success:function(e){var s=e.latitude+.001,n=e.longitude+.001;t.mapObj.latitude=e.latitude,t.mapObj.longitude=e.longitude,t.markers=[{id:1,latitude:e.latitude,longitude:e.longitude,iconPath:"../../../static/imgs/qs.png"},{id:2,latitude:s,longitude:n,iconPath:"../../../static/imgs/sj.png"},{id:3,latitude:s+.0015,longitude:n+.0015,iconPath:"../../../static/imgs/marker.png"}],t.includePoints=[{latitude:e.latitude,longitude:e.longitude},{latitude:s,longitude:n},{latitude:s+.0015,longitude:n+.0015}]},fail:function(t){e.showToast({title:"该地图不支持获取定位"})}})},onLoad:function(t){var s=this;console.log(t),void 0!=t.orderId?(this.orderFlag=!0,e.request({url:n.default.server+"/getdetailLists?orderId="+t.orderId,success:function(e){console.log(e.data),200==e.statusCode&&(s.shopping=e.data.order,s.business=e.data.business,s.userInformation=e.data.user,s.ordersum=(parseFloat(s.shopping[0].price)*parseInt(s.shopping[0].num)+parseFloat(s.business.delFee)).toFixed(2),s.type_index=t.type_index,s.order_index=t.index)}})):(this.orderFlag=!1,this.shopping=this.$store.state.shopping,this.business=this.$store.state.selectedBusiness,this.userInformation=this.$store.state.userInformation,this.ordersum=(parseFloat(this.$store.state.sums)+parseFloat(this.business.delFee)).toFixed(2),this.old_ordersums=(parseFloat(this.$store.state.old_sums)+parseFloat(this.business.delFee)).toFixed(2));var i=[];this.shopping.map((function(e){"s"==e.size?i.push(e.name+"(小份)*"+e.num+"=￥"+e.count+"\n"):"m"==e.size?i.push(e.name+"(中份)*"+e.num+"=￥"+e.count+"\n"):"l"==e.size&&i.push(e.name+"(大份)*"+e.num+"=￥"+e.count+"\n")})),this.share.imageUrl=n.default.rescourceServer+this.shopping[0].detail.menu_img,this.share.path="/pages/index/seeMap/seeMap"}};t.default=o}).call(this,s("543d")["default"])},"19de":function(e,t,s){"use strict";s.r(t);var n=s("d97d"),i=s("af03");for(var o in i)"default"!==o&&function(e){s.d(t,e,(function(){return i[e]}))}(o);s("d781");var a,d=s("f0c5"),r=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"64e3b719",null,!1,n["a"],a);t["default"]=r.exports},af03:function(e,t,s){"use strict";s.r(t);var n=s("08bc"),i=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},b275:function(e,t,s){},d781:function(e,t,s){"use strict";var n=s("b275"),i=s.n(n);i.a},d97d:function(e,t,s){"use strict";var n,i=function(){var e=this,t=e.$createElement,s=(e._self._c,e.__map(e.shopping,(function(t,s){var n=e._f("getSize")(t.size),i=e._f("getSize")(t.size),o=e._f("getprices")(t.num*t.price);return{$orig:e.__get_orig(t),f0:n,f1:i,f2:o}}))),n=e._f("getAddress")(e.userInformation.def_address.address),i=e._f("getAddress")(e.userInformation.def_address.phoneNo);e.$mp.data=Object.assign({},{$root:{l0:s,f3:n,f4:i}})},o=[];s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return o})),s.d(t,"a",(function(){return n}))},e112:function(e,t,s){"use strict";(function(e){s("3a1f");n(s("66fd"));var t=n(s("19de"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])}},[["e112","common/runtime","common/vendor"]]]);